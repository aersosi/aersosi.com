<script>
	import { throttle } from "../throttle";

	document.addEventListener("DOMContentLoaded", () => {
		const mainNav = document.getElementById("mainNav");
		const SCROLL_THRESHOLD = 96;

		if (!mainNav) return;

		const updateNavWrapperPosition = () => {
			const isOverThreshold = window.scrollY > SCROLL_THRESHOLD;
			const addClass = isOverThreshold ? "lg:py-2" : "lg:py-6";
			const removeClass = isOverThreshold ? "lg:py-6" : "lg:py-2";

			mainNav.classList.remove(removeClass);
			mainNav.classList.add(addClass);
		};

		updateNavWrapperPosition(); // Initial

		const throttledUpdateNav = throttle(updateNavWrapperPosition, 20);
		window.addEventListener("scroll", throttledUpdateNav);
	});
</script>
