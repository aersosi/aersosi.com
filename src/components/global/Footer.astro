---
// Fundations
import Text from "@/components/fundations/elements/Text.astro";
import Wrapper from "@/components/fundations/containers/Wrapper.astro";
import Link from "../fundations/elements/Link.astro";

const LinkData = [
    {
        category: "Allgemein",
        headerClass: "font-medium text-base-900 dark:text-white",
        links: [
            {text: "Start", href: "/#home", ariaLabel: "Start"},
            {text: "Über mich", href: "/about-me", ariaLabel: "Über mich"},
            {text: "Impressum", href: "/imprint", ariaLabel: "Impressum"},
            {text: "404", href: "/404", ariaLabel: "404"}
        ],
        linkClass: "font-normal",
    },
    {
        category: "Projekte",
        headerClass: "font-medium text-base-900 dark:text-white",
        links: [
            {text: "Alle Projekte", href: "/projects", ariaLabel: "Alle Projekte"},
            {text: "Kategorie Index", href: "/projects/tags", ariaLabel: "Kategorie Index"},
        ],
        linkClass: "font-normal",
    },
    {
        category: "Artikel",
        headerClass: "font-medium text-base-900 dark:text-white",
        links: [
            {text: "Alle Artikel", href: "/blog", ariaLabel: "Alle Artikel"},
            {text: "Kategorie Index", href: "/blog/tags", ariaLabel: "Kategorie Index"},
        ],
        linkClass: "font-normal",
    },
];
---

<footer>
    <Wrapper variant="standard">
        <div class="flex flex-col gap-16 py-24 border-t border-base-400 dark:border-base-600">
            <nav class="grid grid-cols-1 gap-x-12 gap-y-8 md:grid-cols-2 lg:grid-cols-3">
                {LinkData.map(({category, links, linkClass, headerClass}) => (
                        <div class="flex flex-col gap-2">
                            <Text tag="h4" variant="textSM" class={headerClass}>
                                {category}
                            </Text>
                            {links.map(({text, href, ariaLabel}) => (
                                    <Link
                                            href={href}
                                            aria-label={ariaLabel}
                                            size="xs"
                                            variant="muted"
                                            class={linkClass}
                                            key={href}
                                    >
                                        {text}
                                    </Link>
                            ))}
                        </div>
                ))}
            </nav>

            <div class="grid grid-cols-1 gap-x-12 gap-y-8 lg:grid-cols-3">
                <div>
                    <Text tag="p" variant="textSM" class="text-base-900 dark:text-white">
                        Hamburg, Germany
                    </Text>
                    <Text id="clock" tag="p" variant="textSM" class="text-base-600 dark:text-base-300 flash-text"/>
                </div>
                <Text tag="p" variant="textSM" class="text-base-600 dark:text-base-300">
                    © Copyright <span id="year"></span> durch Arthur Ersosi. <br>Alle Rechte vorbehalten.
                </Text>
            </div>
        </div>
    </Wrapper>
</footer>
<script type="module">
    // Function to update the clock display with Hamburg time
    function updateClock() {
        // Get current date/time
        const now = new Date();
        // Format time for Hamburg timezone in 12-hour format
        const time = now.toLocaleTimeString("de-DE", {
            timeZone: "Europe/Berlin", // Convert to Hamburg time
            hour: "2-digit", // Always show 2 digits for hour (01, 02, etc.)
            minute: "2-digit", // Always show 2 digits for minutes (01, 02, etc.)
        }) + " Uhr";
        // Update the clock element in the DOM with the formatted time
        document.getElementById("clock").textContent = time;
    }

    // Function to update the copyright year
    function updateYear() {
        // Get current year and update the year span element
        document.getElementById("year").textContent = new Date().getFullYear();
    }

    // Initialize both clock and year on page load
    updateClock();
    updateYear();
    // Set up automatic clock updates every 1000ms (1 second)
    setInterval(updateClock, 1000);
</script>
