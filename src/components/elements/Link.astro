---
const { variant, size, class: className, ...rest } = Astro.props;

const defaultClass = [
  // light
  "text-base-900",
  "hover:text-base-500",
  "focus-visible:ring-base-900",
  // dark
  "dark:text-base-50",
  "dark:hover:text-base-400",
  "dark:focus-visible:ring-base-50",
];

const primaryClass = [
  // light
  "text-primary-600",
  "hover:text-primary-400",
  "focus-visible:ring-primary-600",
  // dark
  "dark:text-primary-300",
  "dark:hover:text-primary-100",
  "dark:focus-visible:ring-primary-300",
];

const secondaryClass = [
  // light
  "text-secondary-400",
  "hover:text-secondary-500",
  "focus-visible:ring-secondary-400",
  // dark
  "dark:text-secondary-300",
  "dark:hover:text-secondary-100",
  "dark:focus-visible:ring-secondary-300",
];

const mutedClass = [
  // light
  "text-base-500",
  "hover:text-base-700",
  "focus-visible:ring-base-500",
  // dark
  "dark:text-base-400",
  "dark:hover:text-base-200",
  "dark:focus-visible:ring-base-400",
];

// Size
const sizes = {
  xs: ["gap-1.25", "text-xs", "xl:text-sm", "2xl:text-base"],
  sm: ["gap-1.25", "text-sm", "xl:text-base", "2xl:text-lg"],
  base: ["gap-1.5", "text-base", "xl:text-lg", "2xl:text-xl"],
  lg: ["gap-1.75", "text-lg", "xl:text-xl", "2xl:text-2xl"],
  xl: ["gap-1.75", "text-xl", "xl:text-2xl", "2xl:text-3xl"],
};

const variantClass = {
  default: defaultClass,
  primary: primaryClass,
  secondary: secondaryClass,
  muted: mutedClass,
  none: [],
};

const sizeClass = sizes[size] || [];

const additionalClasses = className ? className.split(" ") : [];
const baseClass = [
  "flex",
  "w-fit",
  "items-center",
  "font-medium",
  "rounded-sm",
  "transition-colors",
  "duration-200",

  "focus-visible:m-0.75",
  "focus-visible:px-0.5",
  "focus-visible:ring-2",
  "focus-visible:ring-none",
  "focus-visible:ring-offset-0.5",
  "focus-visible:ring-offset-white",
  // Dark
  "dark:focus-visible:ring-offset-base-900",
];
---

{
  (
    <a
      href={rest.href}
      class:list={[
        ...baseClass,
        ...(variantClass[variant] || []),
        ...sizeClass,
        ...additionalClasses,
      ]}
      {...rest}
    >
      <slot />
    </a>
  )
}
