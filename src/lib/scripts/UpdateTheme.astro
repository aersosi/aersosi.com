<script is:inline>
  const themeStored = localStorage.getItem("themeDark") === "true";
  document.documentElement.classList.toggle("dark", themeStored);

  function updateTheme(enableTheme) {
    document.documentElement.classList.toggle("dark", enableTheme);
    if (enableTheme) {
      localStorage.setItem("themeDark", "true");
    } else {
      localStorage.removeItem("themeDark");
    }
  }

  document.addEventListener("click", (event) => {
    const toggle = event.target.closest("[data-theme-toggle]");
    if (!toggle) return;
    const currentlyThemeed = document.documentElement.classList.contains("dark");
    updateTheme(!currentlyThemeed);
  });

  // Keyboard-Shortcut: Shift + Control + D
  document.addEventListener("keydown", (event) => {
    if (event.shiftKey && event.ctrlKey && event.key === "D") {
      const currentlyThemeed = document.documentElement.classList.contains("dark");
      updateTheme(!currentlyThemeed);
      event.preventDefault();
    }
  });
</script>
