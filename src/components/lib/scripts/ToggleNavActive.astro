<script is:inline>
    window.addEventListener('DOMContentLoaded', () => {
        function toggleNavActive() {
            const hash = window.location.hash;
            const currentUrl = window.location.pathname + hash;

            const allLinks = document.querySelectorAll('nav#mainNav a[href]');
            const activeClasses = [
                'bg-secondary-400',
                'hover:bg-secondary-300',
                'dark:bg-secondary-400',
                'dark:hover:bg-secondary-300',
                '!text-base-800',
            ];

            allLinks.forEach((el) => {
                const linkHref = el.getAttribute('href');

                if (linkHref === currentUrl || linkHref === hash) {
                    activeClasses.forEach(c => el.classList.add(c));
                } else {
                    activeClasses.forEach(c => el.classList.remove(c));
                }
            });
        }

        toggleNavActive();
        window.addEventListener('hashchange', toggleNavActive);
    });
</script>