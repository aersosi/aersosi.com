<script>
  (function () {
    function updateActiveNav() {
      const hash = window.location.hash;
      const currentUrl = window.location.pathname + hash;

      document.querySelectorAll("nav#mainNav a[href]").forEach((link) => {
        const linkHref = link.getAttribute("href");
        const isActive = linkHref === currentUrl || linkHref === hash;

        const inactiveButton = link.querySelector(".inactive");
        const activeButton = link.querySelector(".active");

        if (inactiveButton && activeButton) {
          inactiveButton.classList.toggle("hidden", isActive);
          activeButton.classList.toggle("hidden", !isActive);
        }
      });
    }

    updateActiveNav();
    window.addEventListener("hashchange", updateActiveNav);
    window.addEventListener("popstate", updateActiveNav);
  })();
</script>
